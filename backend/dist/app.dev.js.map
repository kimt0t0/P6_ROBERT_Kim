{"version":3,"sources":["app.js"],"names":["express","require","mongoose","bodyParser","path","userRoutes","saucesRoutes","app","config","user","process","env","DB_USER","pass","DB_PASS","connect","useNewUrlParser","useUnifiedTopology","then","console","log","use","req","res","next","setHeader","json","join","__dirname","module","exports"],"mappings":";;AAAA;;AAEA;AACA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,QAAQ,GAAGD,OAAO,CAAC,UAAD,CAAxB;;AACA,IAAME,UAAU,GAAGF,OAAO,CAAC,aAAD,CAA1B;;AAEA,IAAMG,IAAI,GAAGH,OAAO,CAAC,MAAD,CAApB;;AACA,IAAMI,UAAU,GAAGJ,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAMK,YAAY,GAAGL,OAAO,CAAC,gBAAD,CAA5B,C,CACA;;;AAEA,IAAMM,GAAG,GAAGP,OAAO,EAAnB;;AAEAC,OAAO,CAAC,QAAD,CAAP,CAAkBO,MAAlB;;AACA,IAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,OAAzB;AACA,IAAMC,IAAI,GAAGH,OAAO,CAACC,GAAR,CAAYG,OAAzB;AAEA;;AACAZ,QAAQ,CAACa,OAAT,qGACE;AAAEC,EAAAA,eAAe,EAAE,IAAnB;AACEC,EAAAA,kBAAkB,EAAE;AADtB,CADF,EAIGC,IAJH,CAIQ;AAAA,SAAMC,OAAO,CAACC,GAAR,CAAY,+BAAZ,CAAN;AAAA,CAJR,WAKS;AAAA,SAAMD,OAAO,CAACC,GAAR,CAAY,+BAAZ,CAAN;AAAA,CALT;AAQA;AAEA;;AACAb,GAAG,CAACc,GAAJ,CAAQ,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACxBD,EAAAA,GAAG,CAACE,SAAJ,CAAc,6BAAd,EAA6C,GAA7C;AACAF,EAAAA,GAAG,CAACE,SAAJ,CAAc,8BAAd,EAA8C,wEAA9C;AACAF,EAAAA,GAAG,CAACE,SAAJ,CAAc,8BAAd,EAA8C,wCAA9C;AACAD,EAAAA,IAAI;AACP,CALD;AAOAjB,GAAG,CAACc,GAAJ,CAAQlB,UAAU,CAACuB,IAAX,EAAR,E,CACA;;AAEAnB,GAAG,CAACc,GAAJ,CAAQ,UAAR,EAAoBrB,OAAO,UAAP,CAAeI,IAAI,CAACuB,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAApB;AACArB,GAAG,CAACc,GAAJ,CAAQ,mBAAR,EAA6Bf,YAA7B;AACAC,GAAG,CAACc,GAAJ,CAAQ,kBAAR,EAA4BhB,UAA5B;AAEA;;;;AAKAwB,MAAM,CAACC,OAAP,GAAiBvB,GAAjB","sourcesContent":["/* *** APPLICATION BACK *** */\r\n\r\n/* VARIABLES */\r\nconst express = require('express');\r\nconst mongoose = require('mongoose');\r\nconst bodyParser = require('body-parser');\r\n\r\nconst path = require('path');\r\nconst userRoutes = require('./routes/user');\r\nconst saucesRoutes = require('./routes/sauce');\r\n//const helmet = require('helmet');\r\n\r\nconst app = express();\r\n\r\nrequire('dotenv').config();\r\nconst user = process.env.DB_USER;\r\nconst pass = process.env.DB_PASS;\r\n\r\n/* CONNEXION MONGODB */\r\nmongoose.connect(`mongodb+srv://kimt0t0:BdmNH6SUZFIkVT0u@cluster0.omuvgnu.mongodb.net/?retryWrites=true&w=majority`,\r\n  { useNewUrlParser: true,\r\n    useUnifiedTopology: true \r\n    })\r\n  .then(() => console.log('Connexion à MongoDB réussie !'))\r\n  .catch(() => console.log('Connexion à MongoDB échouée !'));\r\n\r\n\r\n/* MIDDLEWARES */\r\n\r\n// Prévention erreurs CORS:\r\napp.use((req, res, next) => {\r\n    res.setHeader('Access-Control-Allow-Origin', '*');\r\n    res.setHeader('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content, Accept, Content-Type, Authorization');\r\n    res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, PATCH, OPTIONS');\r\n    next();\r\n});\r\n\r\napp.use(bodyParser.json());\r\n//app.use(helmet());\r\n\r\napp.use('./images', express.static(path.join(__dirname, 'images')));\r\napp.use('./routes/sauce.js', saucesRoutes);\r\napp.use('./routes/user.js', userRoutes);\r\n\r\n/* ou:\r\napp.use('/api/user', userRoutes);\r\napp.use('/api/sauce', saucesRoutes); */\r\n\r\n\r\nmodule.exports = app;"],"file":"app.dev.js"}