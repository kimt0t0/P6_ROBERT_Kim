{"version":3,"sources":["app.js"],"names":["express","require","mongoose","bodyParser","helmet","path","app","cors","userRoutes","saucesRoutes","config","user","process","env","DB_USER","pass","DB_PASS","connect","useNewUrlParser","useUnifiedTopology","then","console","log","use","origin","methods","json","join","__dirname","module","exports"],"mappings":";;AAAA;;AAEA;AACA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,QAAQ,GAAGD,OAAO,CAAC,UAAD,CAAxB;;AACA,IAAME,UAAU,GAAGF,OAAO,CAAC,aAAD,CAA1B;;AAEA,IAAMG,MAAM,GAAGH,OAAO,CAAC,QAAD,CAAtB;;AAEA,IAAMI,IAAI,GAAGJ,OAAO,CAAC,MAAD,CAApB;;AACA,IAAMK,GAAG,GAAGN,OAAO,EAAnB;;AACA,IAAMO,IAAI,GAAGN,OAAO,CAAC,MAAD,CAApB;;AAEA,IAAMO,UAAU,GAAGP,OAAO,CAAC,eAAD,CAA1B;;AACA,IAAMQ,YAAY,GAAGR,OAAO,CAAC,iBAAD,CAA5B,C,CAEA;;;AACAA,OAAO,CAAC,QAAD,CAAP,CAAkBS,MAAlB;;AACA,IAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,OAAzB;AACA,IAAMC,IAAI,GAAGH,OAAO,CAACC,GAAR,CAAYG,OAAzB;AAEA;;AACAd,QAAQ,CAACe,OAAT,yBAAkCN,IAAlC,cAA0CI,IAA1C,iEACE;AAAEG,EAAAA,eAAe,EAAE,IAAnB;AACEC,EAAAA,kBAAkB,EAAE;AADtB,CADF,EAIGC,IAJH,CAIQ;AAAA,SAAMC,OAAO,CAACC,GAAR,CAAY,+BAAZ,CAAN;AAAA,CAJR,WAKS;AAAA,SAAMD,OAAO,CAACC,GAAR,CAAY,+BAAZ,CAAN;AAAA,CALT;AAOA;AAEA;;AACAhB,GAAG,CAACiB,GAAJ,CAAQhB,IAAI,CAAC;AACXiB,EAAAA,MAAM,EAAE,GADG;AAEXC,EAAAA,OAAO,EAAE,CAAC,KAAD,EAAO,MAAP,EAAc,QAAd,EAAuB,QAAvB,EAAgC,KAAhC,EAAsC,OAAtC;AAFE,CAAD,CAAZ;AAKAnB,GAAG,CAACiB,GAAJ,CAAQpB,UAAU,CAACuB,IAAX,EAAR;AACApB,GAAG,CAACiB,GAAJ,CAAQnB,MAAM,EAAd;AAEAE,GAAG,CAACiB,GAAJ,CAAQ,SAAR,EAAmBvB,OAAO,UAAP,CAAeK,IAAI,CAACsB,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAnB;AACAtB,GAAG,CAACiB,GAAJ,CAAQ,WAAR,EAAqBf,UAArB;AACAF,GAAG,CAACiB,GAAJ,CAAQ,aAAR,EAAuBd,YAAvB;AAEAoB,MAAM,CAACC,OAAP,GAAiBxB,GAAjB","sourcesContent":["/* *** APPLICATION BACK *** */\r\n\r\n/* VARIABLES */\r\nconst express = require('express');\r\nconst mongoose = require('mongoose');\r\nconst bodyParser = require('body-parser');\r\n\r\nconst helmet = require('helmet');\r\n\r\nconst path = require('path');\r\nconst app = express();\r\nconst cors = require('cors');\r\n\r\nconst userRoutes = require('./routes/user');\r\nconst saucesRoutes = require('./routes/sauces');\r\n\r\n// ATTENTION ne fonctionne pas actuellement:\r\nrequire('dotenv').config();\r\nconst user = process.env.DB_USER;\r\nconst pass = process.env.DB_PASS; \r\n\r\n/* CONNEXION MONGODB */\r\nmongoose.connect(`mongodb+srv://${user}:${pass}@cluster0.omuvgnu.mongodb.net/?retryWrites=true&w=majority`,\r\n  { useNewUrlParser: true,\r\n    useUnifiedTopology: true \r\n    })\r\n  .then(() => console.log('Connexion à MongoDB réussie !'))\r\n  .catch(() => console.log('Connexion à MongoDB échouée !'));\r\n\r\n/* MIDDLEWARES */\r\n\r\n// Prévention erreurs CORS:\r\napp.use(cors({\r\n  origin: '*',\r\n  methods: ['GET','POST','DELETE','UPDATE','PUT','PATCH']\r\n}));\r\n\r\napp.use(bodyParser.json());\r\napp.use(helmet());\r\n\r\napp.use('/images', express.static(path.join(__dirname, 'images')));\r\napp.use('/api/auth', userRoutes);\r\napp.use('/api/sauces', saucesRoutes);\r\n\r\nmodule.exports = app;"],"file":"app.dev.js"}