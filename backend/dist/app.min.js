"use strict";var express=require("express"),mongoose=require("mongoose"),bodyParser=require("body-parser"),helmet=require("helmet"),cors=require("cors"),userRoutes=require("./routes/user"),saucesRoutes=require("./routes/sauces"),app=express();require("dotenv").config();var user=process.env.DB_USER,pass=process.env.DB_PASS;mongoose.connect("mongodb+srv://".concat(user,":").concat(pass,"@cluster0.omuvgnu.mongodb.net/?retryWrites=true&w=majority"),{useNewUrlParser:!0,useUnifiedTopology:!0}).then(function(){return console.log("Connexion à MongoDB réussie !")}).catch(function(){return console.log("Connexion à MongoDB échouée !")}),app.use(function(e,s,o){s.setHeader("Access-Control-Allow-Origin","*"),s.setHeader("Access-Control-Allow-Headers","Origin, X-Requested-With, Content, Accept, Content-Type, Authorization"),s.setHeader("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, PATCH, OPTIONS"),o()}),app.use(helmet({crossOriginResourcePolicy:{policy:"cross-origin"}})),app.use(bodyParser.json()),app.use("/images",express.static(__dirname+"images")),app.use("/api/auth",userRoutes),app.use("/api/sauces",saucesRoutes),module.exports=app;
//# sourceMappingURL=app.min.js.map
