{"version":3,"sources":["app.js"],"names":["express","require","mongoose","bodyParser","app","helmet","path","saucesRoutes","config","user","process","env","DB_USER","userRoutes","DB_PASS","connect","concat","pass","useNewUrlParser","then","log","useUnifiedTopology","origin","methods","console","use","json","join","__dirname","cors","module","exports"],"mappings":"aAGA,IAAMA,QAAUC,QAAQ,WADxBC,SAAAD,QAAA,YACMD,WAAUC,QAAQ,eAClBC,OAAWD,QAAQ,UACnBE,KAAAA,QAAaF,QAKbG,IAAMJ,UAHNK,KAASJ,QAAQ,QAEjBK,WAAeL,QAArB,iBAKMM,aAAeN,QAAQ,kBAH7BA,QAAU,UAAUO,SAOpB,IAAMC,KAAOC,QAAQC,IAAIC,QALnBC,KAAAA,QAAaZ,IAAQa,QAS3BZ,SAASa,QAAT,iBAAAC,OAAkCP,KAAlC,KAAAO,OAA0CC,KAA1C,8DACE,CAAEC,iBAAiB,EANrBjB,oBAAA,IACAkB,KAAU,WAAA,OAAGT,QAAAU,IAAYR,mCAIzB,MAHU,WAAA,OAAGF,QAAYI,IAAAA,mCAKrBO,IAAAA,IAAAA,KAAAA,CAFJC,OAIQ,IAAAC,QAAMC,CAAAA,MAAQJ,OAAI,SAAA,SAAA,MAAA,YACjBhB,IALTqB,IAAAtB,WAAAuB,QAOAtB,IAAAqB,IAAApB,UAWAD,IAAIqB,IAAI,WAAYzB,QAAO,OAAQM,KAAKqB,KAAKC,UAAW,YARxDxB,IAAIqB,IAAII,YAAKhB,YACXS,IAAAA,IAAM,aADKf,cAAAuB,OAAbC,QAAA3B","file":"app.min.js","sourcesContent":["/* *** APPLICATION BACK *** */\r\n\r\n/* VARIABLES */\r\nconst express = require('express');\r\nconst mongoose = require('mongoose');\r\nconst bodyParser = require('body-parser');\r\n\r\nconst helmet = require('helmet');\r\n\r\nconst path = require('path');\r\nconst app = express();\r\nconst cors = require('cors');\r\n\r\nconst userRoutes = require('./routes/user');\r\nconst saucesRoutes = require('./routes/sauce');\r\n\r\n// ATTENTION ne fonctionne pas actuellement:\r\nrequire('dotenv').config();\r\nconst user = process.env.DB_USER;\r\nconst pass = process.env.DB_PASS; \r\n\r\n/* CONNEXION MONGODB */\r\nmongoose.connect(`mongodb+srv://${user}:${pass}@cluster0.omuvgnu.mongodb.net/?retryWrites=true&w=majority`,\r\n  { useNewUrlParser: true,\r\n    useUnifiedTopology: true \r\n    })\r\n  .then(() => console.log('Connexion à MongoDB réussie !'))\r\n  .catch(() => console.log('Connexion à MongoDB échouée !'));\r\n\r\n/* MIDDLEWARES */\r\n\r\n// Prévention erreurs CORS:\r\napp.use(cors({\r\n  origin: '*',\r\n  methods: ['GET','POST','DELETE','UPDATE','PUT','PATCH']\r\n}));\r\n\r\napp.use(bodyParser.json());\r\napp.use(helmet());\r\n\r\napp.use('./images', express.static(path.join(__dirname, 'images')));\r\napp.use('/api/user', userRoutes);\r\napp.use('/api/sauce', saucesRoutes);\r\n\r\nmodule.exports = app;"]}