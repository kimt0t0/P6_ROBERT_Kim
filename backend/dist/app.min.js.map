{"version":3,"sources":["app.js"],"names":["express","require","mongoose","userRoutes","bodyParser","app","config","saucesRoutes","pass","process","env","DB_PASS","connect","useUnifiedTopology","then","log","console","use","res","setHeader","next","req","path","join","__dirname","module","exports"],"mappings":"aAGA,IAAMA,QAAUC,QAAQ,WADxBC,SAAAD,QAAA,YACMD,WAAUC,QAAQ,eAClBC,KAAQD,QAAGA,QAIXE,WAAaF,QAAQ,iBAHrBG,aAAaH,QAAQ,kBAOrBI,IAAML,UAEZC,QAAQ,UAAUK,SALlB,IAAMC,KAAAA,QAAeN,IAAAA,QAOfO,KAAOC,QAAQC,IAAIC,QAGzBT,SAASU,QAAT,mGALAX,CAAAA,iBAAkBK,EAOdO,oBAAoB,IALxBC,KAAU,WAAA,OAAGL,QAAAM,IAAYJ,mCAGzB,MADA,WAAA,OAAAK,QAAAD,IAAA,mCAKQV,IAAAY,IAAA,SAAMD,EAAAA,EAAQD,GAJtBG,EAAAC,UAKS,8BAAA,KAAAD,EAAAC,UAAcJ,+BAAI,0EAL3BG,EAAAC,UAAA,+BAAA,0CAQAC,MAGAf,IAAIY,IAAIb,WAACiB,QAGLH,IAAAA,IAAIC,WAAUnB,QAAA,OAAAsB,KAAAC,KAAAC,UAAgC,YAC9CJ,IAAAA,IAAI,oBAAAb,cACPF,IALDY,IAAA,mBAAAd,YAmBAsB,OAAOC,QAAUrB","file":"app.min.js","sourcesContent":["/* *** APPLICATION BACK *** */\r\n\r\n/* VARIABLES */\r\nconst express = require('express');\r\nconst mongoose = require('mongoose');\r\nconst bodyParser = require('body-parser');\r\n\r\nconst path = require('path');\r\nconst userRoutes = require('./routes/user');\r\nconst saucesRoutes = require('./routes/sauce');\r\n//const helmet = require('helmet');\r\n\r\nconst app = express();\r\n\r\nrequire('dotenv').config();\r\nconst user = process.env.DB_USER;\r\nconst pass = process.env.DB_PASS;\r\n\r\n/* CONNEXION MONGODB */\r\nmongoose.connect(`mongodb+srv://kimt0t0:BdmNH6SUZFIkVT0u@cluster0.omuvgnu.mongodb.net/?retryWrites=true&w=majority`,\r\n  { useNewUrlParser: true,\r\n    useUnifiedTopology: true \r\n    })\r\n  .then(() => console.log('Connexion à MongoDB réussie !'))\r\n  .catch(() => console.log('Connexion à MongoDB échouée !'));\r\n\r\n\r\n/* MIDDLEWARES */\r\n\r\n// Prévention erreurs CORS:\r\napp.use((req, res, next) => {\r\n    res.setHeader('Access-Control-Allow-Origin', '*');\r\n    res.setHeader('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content, Accept, Content-Type, Authorization');\r\n    res.setHeader('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, PATCH, OPTIONS');\r\n    next();\r\n});\r\n\r\napp.use(bodyParser.json());\r\n//app.use(helmet());\r\n\r\napp.use('./images', express.static(path.join(__dirname, 'images')));\r\napp.use('./routes/sauce.js', saucesRoutes);\r\napp.use('./routes/user.js', userRoutes);\r\n\r\n/* ou:\r\napp.use('/api/user', userRoutes);\r\napp.use('/api/sauce', saucesRoutes); */\r\n\r\n\r\nmodule.exports = app;"]}